<ng-container class="hed">
  <ion-menu contentId="main-content">
    <div class="fixed z-10 top-0 left-0 right-0 flex p-4 bg-white shadow-lg items-center justify-between p-4 border-b">
      <div class="flex items-center" (click)="openEnd()">
        <i class="fas fa-chevron-left text-lg"></i>
        <h1 class="ml-2 text-lg font-medium"> Setting </h1>
      </div>
    </div>
    <ion-content class="ion-padding">
      <div class="headside">
        <div class="flex items-center mb-6">
          <img src="https://cdn-icons-png.flaticon.com/512/303/303593.png" style="height: 48px;" alt="User avatar"
            class="rounded-full">
          <div class="ml-3">
            <h2 class="text-lg font-semibold">aman jAIN</h2>
            <p class="text-sm text-gray-500">9806701954</p>
          </div>
        </div>
        <ul>
          <li class="flex items-center justify-between py-3 border-b" routerLink="/userprofile">
            <div class="flex items-center">
              <i class="fas fa-user mr-3"></i>
              <span class="text-lg">Profile</span>
            </div>
            <i class="fas fa-chevron-right text-pink-500"></i>
          </li>
          <li class="flex items-center justify-between py-3 border-t border-b" routerLink="/Orders">
            <div class="flex items-center">
              <i class="fas fa-shopping-bag mr-3"></i>
              <span class="text-lg">Orders</span>
            </div>
            <i class="fas fa-chevron-right text-pink-500"></i>
          </li>
          <li class="flex items-center justify-between py-3 border-b" routerLink="/cart">
            <div class="flex items-center">
              <i class="fas fa-heart mr-3"></i>
              <span class="text-lg">Cart</span>
            </div>
            <i class="fas fa-chevron-right text-pink-500"></i>
          </li>
          <li class="flex items-center justify-between py-3 border-b" routerLink="/Addresses">
            <div class="flex items-center">
              <i class="fas fa-map-marker-alt mr-3"></i>
              <span class="text-lg">Addresses</span>
            </div>
            <i class="fas fa-chevron-right text-pink-500"></i>
          </li>
          <li class="flex items-center justify-between py-3 border-b" routerLink="/help">
            <div class="flex items-center">
              <i class="fas fa-headset mr-3"></i>
              <span class="text-lg">Customer Support</span>
            </div>
            <i class="fas fa-chevron-right text-pink-500"></i>
          </li>
        </ul>
        <div class="flex justify-center mt-6">
          <ion-button routerLink="/userlogin" class="mt-10" fill="outline">Log Out
          </ion-button>
        </div>
      </div>
    </ion-content>
  </ion-menu>



  <!--==================================== main================================================ -->


  <!--==================================== Header address================================================ -->
  <ion-header>
    <div class="bg-gradient-to-b from-teal-700 to-teal-800 text-white p-4">
      <div class="max-w-md mx-auto">
          <div  *ngIf="useraddress" class="flex items-center justify-between mb-4">
              <div class="flex items-center">
                  <i (click)="openMenu()" class="fas fa-user-circle text-3xl mr-2"></i>
                  <div (click)="presentModalAddress()">
                      <div class="font-semibold head">Delivery in 5 Mins</div>
                      <div class="text-sm text-gray-200">Kukatpally - {{useraddress.address}} <i class="fas fa-caret-down"></i></div>
                  </div>
              </div>
          </div>
          <div class="flex items-center bg-white rounded-full px-3 py-2 mb-4">
              <i class="fas fa-search text-gray-500"></i>
              <input type="text" class="bg-transparent ml-2 outline-none w-full text-gray-700" placeholder='Search for "Veggi"' />
          </div>
          <!-- <div class="flex justify-around text-center text-white text-xs">
              <div>
                  <i class="fas fa-shopping-bag mb-1"></i>
                  <div>All</div>
              </div>
              <div>
                  <i class="fas fa-mug-hot mb-1"></i>
                  <div>Cafe</div>
              </div>
              <div>
                  <i class="fas fa-apple-alt mb-1"></i>
                  <div>Fresh</div>
              </div>
              <div>
                  <i class="fas fa-headphones mb-1"></i>
                  <div>Electronics</div>
              </div>
          </div> -->
      </div>
    </div>
  </ion-header>


  <ion-content class="overflow-hidden" [fullscreen]="true">
    <!-- <div class="p-2">
      <div
        class="baner  flex items-center justify-between p-5 text-white">
        <div>
          <ion-text class="titlehed"> Ondoor<span class="headlinecolor">Veggi</span></ion-text>
          <br />
          <ion-text class="subti"> Delivering Excellence, Freshly Packed </ion-text>
        </div>
        <img src="https://nationaltoday.com/wp-content/uploads/2022/05/Fresh-Veggies-1200x834.jpg"
          alt="Collection of smoking accessories, mints, and related products" class="h-24 rounded">
      </div>
    </div> -->

    <div class=" overflow-hidden">
      <!-- Product Grid -->
   

      <div class="bg-white font-sans antialiased">
        <div class="max-w-3xl mx-auto p-1">
            <div  *ngIf="mobileview && categoryDataList " class="grid grid-cols-2 gap-3">
                <div  *ngFor="let cate of categoryDataList"  class="border rounded-lg p-2 shadow-md" (click)="goToProductLIstDialogByCategaryPage(true,cate.cat_id,cate.cat_name)">
                    <img src="{{cate.image}}"  alt="An image of food representing a cafe" class="w-full h-24 object-cover rounded-t-lg mb-4">
                    <h2 class="text-lg font-semibold mb-1">{{cate.cat_name}}</h2>
                    <div class="bg-blue-100 text-blue-800 px-2 py-1 rounded-lg inline-block text-sm">Upto <strong class="text-l">20%</strong> OFF</div>
                </div>
            </div>
        </div>
      </div>
    


      <div class="p-4 p-3 mb-10">
        <div *ngIf="categoryDataList && !mobileview" class="grid grid-cols-4 gap-4 mt-4">
          <div *ngFor="let cate of categoryDataList" class="text-center border p-1 rounded-md bg-white shadow">
            <p class="text-sm font-bold">{{cate.cat_name}}</p>
            <img src="{{cate.image}}" alt="A bowl with pasta dish" class="mx-auto mt-2 mb-2"
              (click)="goToProductLIstDialogByCategaryPage(true,cate.cat_id,cate.cat_name)">
            <p class="text-blue-500 text-xs">Upto <strong>20%</strong> OFF</p>
          </div>
        </div>
      </div>


    </div>
  </ion-content>

  <!--==================================== footer================================================ -->
  <div id="main-content">

    <ion-footer>
      <div class="fixed bottom-0 left-0 right-0 bg-white shadow flex justify-around text-xs py-3 border-t">
        <a (click)="openMenu()" class="text-center">
          <i class="fas fa-user-circle text-gray-500 text-lg"></i>
          <div>Profile</div>
        </a>
        <a routerLink="/home" class="text-center">
          <i class="fas fa-th text-gray-500 text-lg"></i>
          <div>Categories</div>
        </a>
        <a href="/Orders" class="text-center">
          <i class=" fas fa-list text-gray-500 text-lg"></i>
          <div>Orders</div>
        </a>
        <a routerLink="/cart" class="text-center">
          <i class="fas fa-shopping-cart text-gray-500 text-lg"></i>
          <div>Cart</div>
        </a>
      </div>
    </ion-footer>
  </div>
</ng-container>




<!-- _____________________________________________________open list page________________________________________________________________________ -->


<ion-modal [isOpen]="productModelValue">
  <ng-template>
    <!---------------------------------------------------- list page-------------------------------------- -->
    <ion-content [fullscreen]="true" *ngIf="productlistpage">
      <ion-header>
        <div class="fixed z-10 top-0 left-0 right-0 flex p-2 bg-white shadow-lg items-center justify-between border-b">
          <div class="flex items-center" (click)="closeProductlistModal()">
            <i class="fas fa-chevron-left text-lg"></i>
            <h1 class="ml-1 text-lg font-medium">{{catname}} </h1>
          </div>
          <div class="container-search  ">
            <div class="row height justify-content-left align-items-left">
              <div class="form">
                <div class="search-wrapper ">
                  <input class="search-input" type="text" [(ngModel)]="searchText" placeholder="Search">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor"
                    stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-search"
                    viewBox="0 0 24 24">
                    <defs></defs>
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="M21 21l-4.35-4.35"></path>
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ion-header>


      <div class="divmainwraplist">
        <div class="bg-gray-50">
          <div class="max-w-lg mx-auto ">
            <div  class="flex justify-around mb-1 cata">
              <div *ngFor="let cate of categoryDataList"  class="flex flex-col items-center"  (click)="goToProductLIstDialogByCategaryPage(true,cate.cat_id,cate.cat_name)">
                <div *ngIf="cate.cat_name == 'Vegetable'" class="bg-white rounded-full p-1 mb-1">
                <img class="heightdiv" src="https://img.icons8.com/?size=80&id=G2ZpWNtpZGTQ&format=png" >
              </div>
              <div  *ngIf="cate.cat_name == 'Fruits'" class="bg-white rounded-full p-1 mb-1">
                <img class="heightdiv" src="https://img.icons8.com/?size=80&id=zFSgaWKLkFJM&format=png" >
              </div>
              <div  *ngIf="cate.cat_name == 'Milk'" class="bg-white rounded-full p-1 mb-1">
                <img class="heightdiv" src="https://img.icons8.com/?size=80&id=rPDqvlJvmebX&format=png" >
              </div>
              <div  *ngIf="cate.cat_name == 'Coconut'" class="bg-white rounded-full p-1 mb-1">
                <img class="heightdiv" src="https://img.icons8.com/?size=50&id=9889&format=png" >
              </div>
           
                <span class="text-gray-600">{{cate.cat_name}}</span>
              </div>
            </div>


            <div *ngIf="mobileview " class="grid grid-cols-2 gap-4">
              <div *ngFor='let product of productArray  | searchFilter: searchText' class="bg-white rounded-lg shadow">
                <div class="relative">
                  <img src="{{product.nutrition_weight}}"  (click)="goToProductDetailsPageByProductId(true,product.prod_id)" alt="Capsicum Green" class="rounded-t-lg">
                  <div class="absolute top-2 left-2 bg-purple-600 text-white text-xs rounded px-2">12% Off</div>
                </div>
                <div class="p-4">
                  <div class="flex justify-between items-center mb-3">
                    <div class="text-gray-500 text-sm">{{product.unit_name}} {{product.unit_value}} </div>

                    <div *ngIf="!product.isAdded"  (click)="addCart(product)" class="bg-pink-500 px-2 py-1 text-white flex items-center justify-center ">
                      <i class="fas fa-plus"></i>
                    </div>
                    <div *ngIf="product.isAdded" class="bg-pink-500 text-white rounded flex items-center justify-center px-2 py-1">
                      <i class="fas fa-minus"    (click)="incQnt(product.prod_id, product.qty,'dec')" ></i>
                      <span class="mx-2">{{product.qty}}</span>
                      <i class="fas fa-plus"  (click)="incQnt(product.prod_id, product.qty,'inc')"></i>
                    </div>

                  </div>
                  <h3 class="font-semibold text-lg">{{product.name}}</h3>
                 
                  <div class="flex items-center mt-1 text-lg">
                    <span class="font-semibold">₹ {{product.price}}</span>
                    <span class="text-gray-400 line-through ml-2">₹ {{product.price +10}}</span>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>


      <div class="divmainwraplist">
        <!-- <div *ngIf="mobileview " class="grid grid-cols-2 gap-4">
          <div *ngFor='let product of productArray  | searchFilter: searchText' class="bg-white rounded-lg shadow p-4">
            <div class="relative">
              <img src="{{product.nutrition_weight}}" alt="Apples" class="rounded-lg w-full"
                (click)="goToProductDetailsPageByProductId(true,product.prod_id)">
            </div>
            <div class="flex justify-between items-center mt-2">
              <div class="flex items-center">
                <button (click)="addCart(product)"
                  class="relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-pink-200 via-pink-300 to-pink-200 group-hover:from-red-200 group-hover:via-pink-300 group-hover:to-pink-200 dark:text-white dark:hover:text-gray-900 focus:ring-4 focus:outline-none focus:ring-pink-100 dark:focus:ring-pink-400">
                  <span
                    class="relative px-3 py-1 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0">
                    {{ product.isAdded? 'Added' : 'Add to cart' }}
                  </span>
                </button>
              </div>
            </div>
            <p class="mt-2 text-gray-800 font-semibold ">{{product.name}}</p>
            <p class="text-gray-500 font-semibold">{{product.unit_name}} {{product.unit_value}} - ₹ {{product.price}}
            </p>
          </div>
        </div> -->
        <div *ngIf="!mobileview " class="grid grid-cols-4 gap-4">
          <div *ngFor='let product of this.productArray' class="bg-white rounded-lg shadow p-4">
            <div (click)="goToProductDetailsPageByProductId(true,product.prod_id)" class="relative">
              <img src="{{product.nutrition_weight}}" alt="Apples" class="rounded-lg w-full">
            </div>
            <div class="flex justify-between items-center mt-2">
              <div class="flex items-center">
                <button (click)="addCart(product)"
                  class="relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-red-200 via-red-300 to-rgb(237 74 155)-200 group-hover:from-red-200 group-hover:via-red-300 group-hover:to-pink-200 dark:text-white dark:hover:text-gray-900 focus:ring-4 focus:outline-none focus:ring-red-100 dark:focus:ring-red-400">
                  <span
                    class="relative px-4 py-2 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0">
                    {{ product.isAdded? 'Added' : 'Add to cart' }}
                  </span>
                </button>
                <!-- <button type="button" (click)="addCart(product)"  class="text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800 font-medium rounded-lg text-sm px-3 py-2 text-center me-2 mb-2">{{ product.isAdded? 'Added' : 'Add to cart' }}</button> -->
                <!-- <button type="button" class="py-2.5 px-5 me-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 "> </button> -->
              </div>
            </div>
            <p class="mt-2 text-gray-800 ">{{product.name}}</p>
            <p class="text-gray-500">{{product.unit_name}} {{product.unit_value}} - ₹ {{product.price}}</p>
          </div>
        </div>

        <div (click)="presentViewCartModal()" class="fixed bottom-0 left-0 right-0 p-4 bg-white mt-2">
          <div class="flex items-center justify-center space-x-2 bg-pink-500 text-white py-2 px-4 rounded-lg">
            <span>{{cartNumber}} Items </span>
            <button class="flex items-center">
              <i class="fas fa-shopping-cart"></i>
              <span class="ml-2">View Cart</span>
            </button>
          </div>
        </div>
      </div>
    </ion-content>
    <!---------------------------------------------------- detials page-------------------------------------- -->

    <ion-content [fullscreen]="true" *ngIf="productdetailspage && productDetailsList" [fullscreen]="true">
      <div class="divmainwrapDetails">
        <div class="max-w-md mx-auto bg-white rounded-lg shadow-md overflow-hidden ">
          <div class="relative">
            <img src="{{productDetailsList.nutrition_weight}}"
              alt="Bag of Hawaiian Barbeque Cheese Popcorn surrounded by ingredients" class="w-full">
            <button
              class="absolute left-2 top-2 w-8 h-8 bg-white text-gray-700 rounded-full flex items-center justify-center shadow-md">
              <i class="fas fa-arrow-left" (click)="goToListPage()"></i>
            </button>
            <button
              class="absolute right-2 top-2 w-8 h-8 bg-white text-gray-700 rounded-full flex items-center justify-center shadow-md">
              <i class="fas fa-heart"></i>
            </button>
            <button
              class="absolute right-2 top-12 w-8 h-8 bg-white text-gray-700 rounded-full flex items-center justify-center shadow-md">
              <i class="fas fa-share-alt"></i>
            </button>
          </div>

          <!-- Product Details Section -->
          <div class="p-4">
            <h2 class="text-lg font-semibold mb-1">{{productDetailsList.name}}</h2>
            <p class="text-gray-500 mb-2">Net Qty: {{productDetailsList.unit_name}} {{productDetailsList.unit_value}}
            </p>
            <div class="flex items-center mb-2">
              <p class="text-lg font-bold text-green-600 mr-2">₹{{productDetailsList.price}} </p>
              <!-- <p class="text-sm text-green-600 font-semibold mr-2">24% Off</p> -->
              <!-- <p class="text-sm text-gray-400 line-through">MRP ₹49</p> -->
              <p class="text-xs text-gray-400">(incl. of all taxes)</p>
            </div>
            <div class="flex items-center text-green-600 mb-2">
              <i class="fas fa-bolt mr-2"></i>
              <p class="text-sm">Get it in 10 minutes</p>
            </div>
            <!-- <button class="w-full py-2 text-green-700 bg-green-100 rounded flex items-center justify-center">
            View all 4700BC products
          </button> -->
          </div>

          <!-- Coupons & Offers Section -->
          <div class="p-4 bg-gray-50 mb-3">
            <h3 class="text-md font-semibold mb-3">Description</h3>
            <div class="flex items-center bg-white p-3 mb-3 rounded shadow">
              <div class="w-2/3">
                <p class="text-sm ">{{productDetailsList.detail}}</p>
              </div>

            </div>
            <!-- <button class="w-full py-2 text-red-600 hover:text-red-700 font-semibold">
            View all coupons
          </button> -->
            <!-- View Cart Section -->
            <div class="fixed bottom-0 left-0 right-0 p-4 bg-white mt-2">
              <div class="flex items-center justify-center space-x-2 bg-pink-500 text-white py-2 px-4 rounded-lg">
                <button class="flex items-center" (click)="addCart(productDetailsList)">
                  <i class="fas fa-shopping-cart"></i>
                  <span class="ml-2"> {{ productDetailsList.isAdded? 'Added' : 'Add to cart' }}</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ion-content>

    <!-- -------------------------------------end ---------------------------------------------------------------->
  </ng-template>
</ion-modal>


<!-- list view -->

<!-- <body class="bg-white">

  <div class="bg-green-800 text-white flex justify-between items-center p-4">
      <i class="fas fa-chevron-left text-2xl"></i>
      <div class="flex items-center">
          <span class="mr-2 text-lg">Fruits</span>
          <i class="fas fa-chevron-down"></i>
      </div>
      <i class="fas fa-search text-2xl"></i>
  </div>

  <div class="bg-green-500 text-white py-2 text-center text-lg font-semibold">
      FRUITS
  </div>

  <div class="p-4">
      <div class="flex border-b py-4">
          <img src="https://placehold.co/100x100" alt="Red apples with one apple cut open" class="w-20 h-20 mr-4">
          <div class="flex-1">
              <div class="text-lg font-semibold">Apple Washigton</div>
              <div class="flex items-center">
                  <span class="text-lg font-bold mr-2">₹290.00</span>
                  <span class="text-sm text-gray-500 line-through mr-2">₹300.00</span>
                  <span class="text-sm bg-red-500 text-white px-2 py-1 rounded">3 % Off!</span>
              </div>
              <div>1 kg</div>
          </div>
          <div class="flex items-center">
              <button class="border border-green-600 text-green-600 px-2">-</button>
              <span class="mx-2">1</span>
              <button class="border border-green-600 text-green-600 px-2">+</button>
          </div>
      </div>

      <div class="flex border-b py-4">
          <img src="https://placehold.co/100x100" alt="Pack of blue berries" class="w-20 h-20 mr-4">
          <div class="flex-1">
              <div class="text-lg font-semibold">Blue Berry</div>
              <div class="flex items-center">
                  <span class="text-lg font-bold mr-2">₹200.00</span>
                  <span class="text-sm text-gray-500 line-through mr-2">₹300.00</span>
                  <span class="text-sm bg-red-500 text-white px-2 py-1 rounded">33 % Off!</span>
              </div>
              <div>1 box</div>
          </div>
          <button class="bg-green-600 text-white px-4 py-2 rounded">ADD</button>
      </div>

      <div class="flex border-b py-4">
          <img src="https://placehold.co/100x100" alt="Bunch of ripe mangoes" class="w-20 h-20 mr-4">
          <div class="flex-1">
              <div class="text-lg font-semibold">Mango Dasari</div>
              <div class="flex items-center">
                  <span class="text-lg font-bold mr-2">₹90.00</span>
                  <span class="text-sm text-gray-500 line-through mr-2">₹150.00</span>
                  <span class="text-sm bg-red-500 text-white px-2 py-1 rounded">40 % Off!</span>
              </div>
              <div>1 kg</div>
          </div>
          <button class="bg-green-600 text-white px-4 py-2 rounded">ADD</button>
      </div>

      <div class="flex border-b py-4">
          <img src="https://placehold.co/100x100" alt="Two oranges with a slice cut" class="w-20 h-20 mr-4">
          <div class="flex-1">
              <div class="text-lg font-semibold">Malta Fruit</div>
              <div class="flex items-center">
                  <span class="text-lg font-bold mr-2">₹180.00</span>
                  <span class="text-sm text-gray-500 line-through mr-2">₹200.00</span>
                  <span class="text-sm bg-red-500 text-white px-2 py-1 rounded">10 % Off!</span>
              </div>
              <div>1 kg</div>
          </div>
          <button class="bg-green-600 text-white px-4 py-2 rounded">ADD</button>
      </div>

      <div class="flex border-b py-4">
          <img src="https://placehold.co/100x100" alt="Two mosambi with one sliced" class="w-20 h-20 mr-4">
          <div class="flex-1">
              <div class="text-lg font-semibold">Mosambi</div>
              <div class="flex items-center">
                  <span class="text-lg font-bold mr-2">₹80.00</span>
              </div>
              <div>1 kg</div>
          </div>
          <div class="flex items-center">
              <button class="border border-green-600 text-green-600 px-2">-</button>
              <span class="mx-2">2</span>
              <button class="border border-green-600 text-green-600 px-2">+</button>
          </div>
      </div>
  </div>

  <div class="fixed bottom-0 left-0 right-0 bg-white shadow-md flex justify-around items-center py-2">
      <div class="text-center text-green-800">
          <i class="fas fa-home text-2xl"></i>
          <div>Home</div>
      </div>
      <div class="text-center text-gray-400">
          <i class="fas fa-search text-2xl"></i>
          <div>Search</div>
      </div>
      <div class="text-center text-gray-400">
          <i class="fas fa-tags text-2xl"></i>
          <div>Offers</div>
      </div>
      <div class="rounded-full bg-green-600 text-white p-3 relative">
          <i class="fas fa-shopping-cart"></i>
          <span class="absolute -top-2 -right-2 bg-red-600 text-xs font-bold rounded-full text-white px-1">10</span>
          <span class="absolute inset-x-0 bottom-0 text-sm">₹935.00</span>
      </div>
  </div>

</body> -->