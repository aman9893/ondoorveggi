<ion-content [fullscreen]="true">
  <div class="container-search ">
    <div class="row height justify-content-left align-items-left">
      <div class="form">
        <div class="search-wrapper ">
          <input class="search-input" type="text" (ionChange)="search($event)" placeholder="Search">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor"
            stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-search"
            viewBox="0 0 24 24">
            <defs></defs>
            <circle cx="11" cy="11" r="8"></circle>
            <path d="M21 21l-4.35-4.35"></path>
          </svg>
        </div>
      </div>

    </div>
  </div>


  <!-- 
  <ion-grid>
    <ion-row class="ion-justify-content-between ">
      <ion-col size="3">
        <div style="font-size: 10px;
    color: green;" class="font-500">
          Fresh Vegetables
        </div>
      </ion-col>
      <ion-col size="6" class="ion-text-right">
        <ion-icon name="funnel{{ productService.isSorted() ? '' : '-outline' }}" class="ion-padding-horizontal" (click)='sortProducts()'></ion-icon>
        <ion-icon data-cy="filter-btn" name="filter{{ productService.isFiltered() ? '' : '-outline' }}" (click)='filterPage()'></ion-icon>
      </ion-col>
    </ion-row>
    <ion-row data-cy="products-list">
      <ion-col size="6" size-lg="3" size-md="4" *ngFor='let product of productService.products'>
        <ion-card class="ion-no-margin">
          <img [src]="product?.imgurl || 'assets/imgs/divisions.svg'">
          <ion-card-header>
            <ion-card-subtitle>{{ product?.category }}</ion-card-subtitle>
            <ion-card-title class="font-size-1">{{ product?.name }}</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div class="ion-color-dark">{{ product?.price | currency: 'USD' }}</div>
            <div>
              <ion-button data-cy="cart-btn" expand="full" color="danger" size="small" (click)="addToCartModal(product)">
              {{ cart.isAddedToCart(product?.id) ? 'Added' : 'Add to cart' }}
            </ion-button></div>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <div *ngIf="productService.products && productService.products.length === 0" class="noitem">
        <img src="assets/images/search-icon.svg" />
        <h1>Oops!</h1>
      </div>
    </ion-row>
  </ion-grid> -->




  <!-- <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-buttons class="backbtn" routerLink="/home" routerDirection="back">
          <img src="../../assets/back-dark.svg" />
        </ion-buttons>
      </ion-buttons>
  
      <ion-buttons slot="end">
        <ion-button class="notification">
          <ion-icon name="notifications-outline" color="dark"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header> -->


  <!-- <div class="cart-items">
      <ion-card mode="ios">
        <ion-card-content>
          <div class="item-img">
            <img src="../../assets/cart/cart1.png" />
          </div>
  
          <div class="item-info">
            <p>Women t-shirt</p>
            <p>Lotto.LTD</p>
            <p>$34.00</p>
  
            <div class="qty-selector">
              <ion-button fill="clear">-</ion-button>
              <ion-label>1</ion-label>
              <ion-button fill="clear">+</ion-button>
            </div>
          </div>
        </ion-card-content>
      </ion-card>
  
      <ion-card mode="ios">
        <ion-card-content>
          <div class="item-img">
            <img src="../../assets/cart/cart2.png" />
          </div>
  
          <div class="item-info">
            <p>Female t-shirt</p>
            <p>Bata</p>
            <p>$44.00</p>
  
            <div class="qty-selector">
              <ion-button fill="clear">-</ion-button>
              <ion-label>1</ion-label>
              <ion-button fill="clear">+</ion-button>
            </div>
          </div>
        </ion-card-content>
      </ion-card>
    </div> -->





  <div class="flex overflow-x-auto pb-4 pt-4">


    <div class="flex-none w-28 mx-2">
      <div class="p-4  rounded-lg shadow">
        <img src="https://cdn-icons-png.flaticon.com/256/8980/8980191.png" alt="Fruits and Vegetables" class="w-full">
      </div>
      <p class="text-center mt-2 text-purple-600 font-semibold">Vegetables</p>
    </div>
    <div class="flex-none w-28 mx-2">
      <div class="p-4 bg-white rounded-lg shadow">
        <img src="https://cdn-icons-png.flaticon.com/256/5473/5473851.png" alt="Grocery and Kitchen items"
          class="w-full">
      </div>
      <p class="text-center mt-2 text-gray-600">Fruits </p>
    </div>
  </div>


  <div *ngIf="mobileview" class="grid grid-cols-2 gap-4">
   
    <div *ngFor='let product of this.productList' class="bg-white rounded-lg shadow p-4">
      <div (click)="goToProductDetails(product.prod_id)" class="relative">
        <img
          src="{{product.nutrition_weight}}"
          alt="Apples" class="rounded-lg w-full">
        <!-- <span class="absolute top-2 left-2 bg-purple-600 text-white text-sm px-2 py-1 rounded-full">9% Off</span> -->
      </div>
      <div class="flex justify-between items-center mt-2">
        <p class="text-gray-600 flex items-center"><i class="fas fa-clock mr-1"></i>6 Mins</p>
        <div class="flex items-center">
          <button class="bg-pink-600 text-white rounded-full w-6 h-6 text-center">-</button>
          <span class="mx-2">1</span>
          <button class="bg-pink-600 text-white rounded-full w-6 h-6 text-center">+</button>
        </div>
      </div>
      <p class="mt-2 text-gray-800">{{product.name}}</p>
      <p class="text-gray-500">{{product.unit_name}} {{product.unit_value}}</p>
      <div class="flex items-baseline">
        <p class="text-lg font-bold">₹ {{product.price}}</p>
        <!-- <p class="text-gray-500 ml-2 line-through">₹106</p> -->
      </div>
    </div>
  </div>


  <!-- desktop view -->
  <div *ngIf="!mobileview">

    <!-- Search Bar -->


    <!-- Main Content -->
    <div class="flex p-4">
      <!-- Sidebar -->
      <div class="w-1/6 bg-white p-4 shadow-md">
        <ul class="space-y-4">
          <li class="flex items-center text-purple-600">
            <img src="https://placehold.co/40x40" alt="All category icon" class="mr-2">
            All
          </li>
          <li class="flex items-center">
            <img src="https://placehold.co/40x40" alt="Fresh Vegetables icon" class="mr-2">
            Fresh Vegetables
          </li>
          <li class="flex items-center">
            <img src="https://placehold.co/40x40" alt="Fresh Fruits icon" class="mr-2">
            Fresh Fruits
          </li>
          <li class="flex items-center">
            <img src="https://placehold.co/40x40" alt="Festive Essentials icon" class="mr-2">
            Festive Essentials
          </li>
          <li class="flex items-center">
            <img src="https://placehold.co/40x40" alt="Leafy, Herbs & Seasonings icon" class="mr-2">
            Leafy, Herbs & Seasonings
          </li>
          <li class="flex items-center">
            <img src="https://placehold.co/40x40" alt="Exotics & Premium icon" class="mr-2">
            Exotics & Premium
          </li>
          <li class="flex items-center">
            <img src="https://placehold.co/40x40" alt="Organics & Hydroponics icon" class="mr-2">
            Organics & Hydroponics
          </li>
          <li class="flex items-center">
            <img src="https://placehold.co/40x40" alt="Cuts & Sprouts icon" class="mr-2">
            Cuts & Sprouts
          </li>
          <li class="flex items-center">
            <img src="https://placehold.co/40x40" alt="Flowers & Leaves icon" class="mr-2">
            Flowers & Leaves
          </li>
        </ul>
      </div>

      <!-- Products -->
      <div class="flex-1 grid grid-cols-4 gap-6 p-4">
        <!-- Product Item -->
        <div class="bg-white shadow-md p-4">
          <img src="https://placehold.co/120x120" alt="Image of Blueberries" class="mb-2">
          <h3 class="text-sm">Blueberry Imported</h3>
          <p class="text-xs">120 g</p>
          <div class="flex justify-between items-center mt-2">
            <span class="text-red-500 font-semibold">₹229</span>
            <span class="line-through text-gray-400">₹255</span>
          </div>
          <button class="w-full mt-2 bg-red-50 border border-red-400 text-red-500 p-1 text-sm">Add to Cart</button>
        </div>

        <!-- Another Product Item -->
        <div class="bg-white shadow-md p-4">
          <img src="https://placehold.co/120x120" alt="Image of Spinach" class="mb-2">
          <h3 class="text-sm">Spinach - Cleaned, without roots</h3>
          <p class="text-xs">250 g</p>
          <div class="flex justify-between items-center mt-2">
            <span class="text-red-500 font-semibold">₹42</span>
            <span class="line-through text-gray-400">₹76</span>
          </div>
          <button class="w-full mt-2 bg-red-50 border border-red-400 text-red-500 p-1 text-sm">Add to Cart</button>
        </div>

        <!-- Repeat similar structure for more items -->

        <div class="bg-white shadow-md p-4">
          <img src="https://placehold.co/120x120" alt="Image of Chrysanthemum Yellow" class="mb-2">
          <h3 class="text-sm">Chrysanthemum Yellow</h3>
          <p class="text-xs">100 g</p>
          <div class="flex justify-between items-center mt-2">
            <span class="text-red-500 font-semibold">₹39</span>
            <span class="line-through text-gray-400">₹41</span>
          </div>
          <button class="w-full mt-2 bg-red-50 border border-red-400 text-red-500 p-1 text-sm">Add to Cart</button>
        </div>

        <div class="bg-white shadow-md p-4">
          <img src="https://placehold.co/120x120" alt="Image of Coconut" class="mb-2">
          <h3 class="text-sm">Coconut</h3>
          <p class="text-xs">1 pc (Above. 450g)</p>
          <div class="flex justify-between items-center mt-2">
            <span class="text-red-500 font-semibold">₹56</span>
            <span class="line-through text-gray-400">₹72</span>
          </div>
          <button class="w-full mt-2 bg-red-50 border border-red-400 text-red-500 p-1 text-sm">Add to Cart</button>
        </div>

        <div class="bg-white shadow-md p-4">
          <img src="https://placehold.co/120x120" alt="Image of Betel Leaves" class="mb-2">
          <h3 class="text-sm">Betel Leaves (Paan)</h3>
          <p class="text-xs">10 pcs (Approx. 50 g)</p>
          <div class="flex justify-between items-center mt-2">
            <span class="text-red-500 font-semibold">₹44</span>
            <span class="line-through text-gray-400">₹45</span>
          </div>
          <button class="w-full mt-2 bg-red-50 border border-red-400 text-red-500 p-1 text-sm">Add to Cart</button>
        </div>

        <div class="bg-white shadow-md p-4">
          <img src="https://placehold.co/120x120" alt="Image of Strawberry" class="mb-2">
          <h3 class="text-sm">Strawberry</h3>
          <p class="text-xs">1 pack (Approx. 160g)</p>
          <div class="flex justify-between items-center mt-2">
            <span class="text-red-500 font-semibold">₹116</span>
            <span class="line-through text-gray-400">₹149</span>
          </div>
          <button class="w-full mt-2 bg-red-50 border border-red-400 text-red-500 p-1 text-sm">Add to Cart</button>
        </div>

        <div class="bg-white shadow-md p-4">
          <img src="https://placehold.co/120x120" alt="Image of Carrot" class="mb-2">
          <h3 class="text-sm">Carrot Local</h3>
          <p class="text-xs">500 g</p>
          <div class="flex justify-between items-center mt-2">
            <span class="text-red-500 font-semibold">₹40</span>
            <span class="line-through text-gray-400">₹99</span>
          </div>
          <button class="w-full mt-2 bg-red-50 border border-red-400 text-red-500 p-1 text-sm">Add to Cart</button>
        </div>

        <div class="bg-white shadow-md p-4">
          <img src="https://placehold.co/120x120" alt="Image of Potato" class="mb-2">
          <h3 class="text-sm">Potato</h3>
          <p class="text-xs">1 kg</p>
          <div class="flex justify-between items-center mt-2">
            <span class="text-red-500 font-semibold">₹51</span>
            <span class="line-through text-gray-400">₹86</span>
          </div>
          <button class="w-full mt-2 bg-red-50 border border-red-400 text-red-500 p-1 text-sm">Add to Cart</button>
        </div>

        <div class="bg-white shadow-md p-4">
          <img src="https://placehold.co/120x120" alt="Image of Grapes Red Globe" class="mb-2">
          <h3 class="text-sm">Grapes Red Globe Imported</h3>
          <p class="text-xs">250 g</p>
          <div class="flex justify-between items-center mt-2">
            <span class="text-red-500 font-semibold">₹145</span>
            <span class="line-through text-gray-400">₹177</span>
          </div>
          <button class="w-full mt-2 bg-red-50 border border-red-400 text-red-500 p-1 text-sm">Add to Cart</button>
        </div>

        <div class="bg-white shadow-md p-4">
          <img src="https://placehold.co/120x120" alt="Image of Garlic" class="mb-2">
          <h3 class="text-sm">Garlic</h3>
          <p class="text-xs">200 g</p>
          <div class="flex justify-between items-center mt-2">
            <span class="text-red-500 font-semibold">₹119</span>
            <span class="line-through text-gray-400">₹168</span>
          </div>
          <button class="w-full mt-2 bg-red-50 border border-red-400 text-red-500 p-1 text-sm">Add to Cart</button>
        </div>

        <div class="bg-white shadow-md p-4">
          <img src="https://placehold.co/120x120" alt="Image of Broccoli" class="mb-2">
          <h3 class="text-sm">Broccoli</h3>
          <p class="text-xs">1 pc (Approx. 200g)</p>
          <div class="flex justify-between items-center mt-2">
            <span class="text-red-500 font-semibold">₹56</span>
            <span class="line-through text-gray-400">₹108</span>
          </div>
          <button class="w-full mt-2 bg-red-50 border border-red-400 text-red-500 p-1 text-sm">Add to Cart</button>
        </div>

        <div class="bg-white shadow-md p-4">
          <img src="https://placehold.co/120x120" alt="Image of Pomegranate" class="mb-2">
          <h3 class="text-sm">Pomegranate</h3>
          <p class="text-xs">2 pcs (Approx. 440g)</p>
          <div class="flex justify-between items-center mt-2">
            <span class="text-red-500 font-semibold">₹174</span>
          </div>
        </div>
      </div>
    </div>
  </div>